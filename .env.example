# ML Allure E-commerce Platform - Environment Variables

# ======================
# Environment
# ======================
NODE_ENV=development
# Options: development, staging, production

# ======================
# Server Configuration
# ======================
SERVER_PORT=5000
FRONTEND_URL=http://localhost:3000

# ======================
# Database Configuration
# ======================
# Turso/LibSQL (for products, categories, fast reads)
TURSO_CONNECTION_URL=libsql://your-database.turso.io
TURSO_AUTH_TOKEN=your-turso-auth-token

# PostgreSQL via Prisma (for orders, transactions, users)
DATABASE_URL=postgresql://user:password@localhost:5432/mlallure?schema=public
DATABASE_POOL_SIZE=20

# ======================
# Redis Configuration
# ======================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_ENABLED=true

# ======================
# Authentication & Security
# ======================
# CRITICAL: Generate a strong secret key for production
# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-change-in-production
JWT_EXPIRY=7d

# ======================
# AWS Configuration
# ======================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3 Configuration
S3_BUCKET_NAME=ml-allure-uploads
S3_REGION=us-east-1

# RDS Configuration (replaces external Prisma DB in production)
# RDS_ENDPOINT=ml-allure-db.xxxxxx.us-east-1.rds.amazonaws.com
# RDS_PORT=5432
# RDS_DB_NAME=mlallure
# RDS_USERNAME=postgres
# RDS_PASSWORD=stored-in-secrets-manager

# ElastiCache Redis (replaces external Redis in production)
# ELASTICACHE_ENDPOINT=ml-allure-redis.xxxxxx.0001.use1.cache.amazonaws.com
# ELASTICACHE_PORT=6379

# ======================
# Payment Processing
# ======================
# Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Mobile Money (M-Pesa, Airtel Money, Orange Money)
# MPESA_CONSUMER_KEY=your_mpesa_consumer_key
# MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
# MPESA_SHORTCODE=your_shortcode
# MPESA_PASSKEY=your_passkey

# ======================
# Logging & Monitoring
# ======================
LOG_LEVEL=info
# Options: debug, info, warn, error

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog APM (Application Performance Monitoring)
# DATADOG_API_KEY=your_datadog_api_key
# DATADOG_SERVICE_NAME=ml-allure
# DATADOG_ENV=development

# New Relic APM
# NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
# NEW_RELIC_APP_NAME=ml-allure

# CloudWatch (AWS)
# CLOUDWATCH_LOG_GROUP=/aws/ml-allure
# CLOUDWATCH_LOG_STREAM=application

# ======================
# Email & SMS
# ======================
# SendGrid
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@ml-allure.com
SENDGRID_FROM_NAME=ML Allure
EMAIL_FROM=noreply@mlallure.com
EMAIL_FROM_NAME=ML Allure
EMAIL_REPLY_TO=support@mlallure.com

# Twilio (SMS Notifications)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# AWS SES (Alternative to SendGrid)
# SES_REGION=us-east-1
# SES_FROM_EMAIL=noreply@ml-allure.com

# SNS Topic for notifications
# SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789:mlallure-notifications

# ======================
# Feature Flags
# ======================
FEATURE_REDIS_CACHE=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_SMS_NOTIFICATIONS=false
FEATURE_PAYMENT_PROCESSING=true
FEATURE_INVENTORY_TRACKING=true
FEATURE_PROMOTIONS=true
FEATURE_RETURNS=true
FEATURE_SHIPMENT_TRACKING=true
MAINTENANCE_MODE=false

# ======================
# Rate Limiting
# ======================
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=20

# ======================
# File Upload
# ======================
MAX_FILE_SIZE=5242880
# 5MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# ======================
# CORS Configuration
# ======================
CORS_ORIGIN=http://localhost:3000
# Comma-separated list for multiple origins in production:
# CORS_ORIGIN=https://ml-allure.com,https://www.ml-allure.com

# ======================
# Shipping Providers
# ======================
# DHL API
# DHL_API_KEY=your-dhl-api-key
# DHL_API_SECRET=your-dhl-api-secret
# DHL_ACCOUNT_NUMBER=your-account-number

# FedEx API
# FEDEX_API_KEY=your-fedex-api-key
# FEDEX_API_SECRET=your-fedex-api-secret
# FEDEX_ACCOUNT_NUMBER=your-account-number

# UPS API
# UPS_CLIENT_ID=your-ups-client-id
# UPS_CLIENT_SECRET=your-ups-client-secret
# UPS_ACCOUNT_NUMBER=your-account-number

# ======================
# Queue Configuration (BullMQ)
# ======================
# Queue prefix
QUEUE_PREFIX=mlallure
QUEUE_MAX_ATTEMPTS=3
QUEUE_RETRY_DELAY=5000
# SQS Queue for async processing
# SQS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789/mlallure-jobs

# ======================
# Business Configuration
# ======================
# Currency
DEFAULT_CURRENCY=USD
# Timezone
TIMEZONE=America/New_York
# Tax Rate (percentage)
TAX_RATE=8.5
# Default Delivery Fee
DEFAULT_DELIVERY_FEE=10.00
# Return Window (days)
RETURN_WINDOW_DAYS=30

# ======================
# Cache Configuration
# ======================
# Cache TTL (seconds)
CACHE_TTL_SHORT=300
# 5 minutes
CACHE_TTL_MEDIUM=3600
# 1 hour
CACHE_TTL_LONG=86400
# 24 hours

# ======================
# Analytics
# ======================
# PostHog
# POSTHOG_API_KEY=your_posthog_api_key
# POSTHOG_HOST=https://app.posthog.com

# Google Analytics
# GA_MEASUREMENT_ID=G-XXXXXXXXXX
# Facebook Pixel
# FACEBOOK_PIXEL_ID=xxxxxxxxxxxxxxxxx

# ======================
# Development Only
# ======================
# Prisma Studio
# PRISMA_STUDIO_PORT=5555

# Debug mode
DEBUG=false

# ======================
# IMPORTANT NOTES
# ======================
# 1. NEVER commit the actual .env file to version control
# 2. Generate strong secrets for JWT_SECRET (minimum 32 characters)
# 3. Use AWS Secrets Manager for production secrets
# 4. Rotate credentials regularly
# 5. Use different credentials for dev/staging/production
# 6. Keep this .env.example file updated when adding new variables
